MODULE_ARCHIVES = iofwdutil 

COMPLETIONSOURCES := $(addprefix completion/, \
   CompletionID.cpp \
   BMICompletionID.cpp \
   WorkQueueCompletionID.cpp \
   TimerResource.cpp \
   BMIResource.cpp \
   Resource.cpp \
   Tracker.cpp \
   ContextBase.cpp \
   )

ZLOGSOURCES := $(addprefix zlog/, \
   LevelParser.cpp \
   ZLogSource.cpp \
   ZLogSink.cpp \
   ZLogFilter.cpp \
   ZLogConfigurator.cpp \
   ZLog.cpp \
   ZLogSinkFile.cpp\
   LevelMatch.cpp \
   ZLogSinkStd.cpp \
   ZLogSinkStdErr.cpp \
   ZLogSinkStdOut.cpp \
   ZLogDefaultFilter.cpp \
  )

XDRSOURCES := $(addprefix xdr/, \
   XDRException.cpp \
   XDRReader.cpp \
   XDRWriter.cpp \
   XDRSizeProcessor.cpp \
   )

BMISOURCES := $(addprefix bmi/, \
   BMI.cpp \
   BMIContext.cpp \
   BMIException.cpp \
   BMIAddr.cpp \
   BMIError.cpp \
   BMIBuffer.cpp \
   )

ZCONFIGSOURCES := $(addprefix zconfig/, \
   ConfigParser.cpp \
   )

WORKQUEUESOURCES := $(addprefix workqueue/, \
   WorkQueueBase.cpp \
   PoolWorkQueue.cpp \
   SynchronousWorkQueue.cpp \
   WorkItem.cpp \
   WorkQueue.cpp \
   CompletionTracker.cpp \
   )

MODULE_SOURCES_iofwdutil = \
	        $(WORKQUEUESOURCES) \
		$(ZLOGSOURCES) \
		$(XDRSOURCES) \
		$(BMISOURCES) \
		$(ZCONFIGSOURCES) \
		$(COMPLETIONSOURCES) \
		Timer.cpp TimeVal.cpp always_assert.cpp \
		 ZException.cpp \
		demangle.cpp IOFWDLog.cpp \
		signals.cpp

MODULE_LDFLAGS_iofwdutil =  \
	   $(BOOST_PROGRAM_OPTIONS_LDFLAGS) \
	   $(BOOST_DATE_TIME_LDFLAGS) \
	   $(BOOST_REGEX_LDFLAGS) \
	   $(BOOST_THREAD_LDFLAGS) 

MODULE_LIBS_iofwdutil = \
	   $(BOOST_REGEX_LIBS) \
	   $(BOOST_PROGRAM_OPTIONS_LIBS) \
	   $(BOOST_DATE_TIME_LIBS) \
	   $(BOOST_THREAD_LIBS) 

# Automatically add -I$(thismoduledir) to CPPFLAGS
MODULE_CONTAINSINCLUDE := 1

